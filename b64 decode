- ğŸ§¬ Base64 Decoder
local b64chars = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'
local b64lookup = {}
for i = 1, #b64chars do
    b64lookup[b64chars:sub(i, i)] = i - 1
end

local function b64decode(data)
    data = data:gsub('[^'..b64chars..'=]', '')
    local bytes, buffer, bits = {}, 0, 0
    for i = 1, #data do
        local c = data:sub(i, i)
        if c ~= '=' then
            buffer = buffer * 64 + b64lookup[c]
            bits = bits + 6
            if bits >= 8 then
                bits = bits - 8
                table.insert(bytes, string.char(math.floor(buffer / 2^bits)))
                buffer = buffer % 2^bits
            end
        end
    end
    return table.concat(bytes):gsub("%z", "")
end
